<!DOCTYPE html>
<html>
<head>
  <title>PlayTime</title>
<meta charset="UTF-8">
<meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link rel="stylesheet" type="text/css" href="/css/style.css">
<!-- fontawesome -->
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
<!-- nanumsquare -->
<link rel="stylesheet" type="text/css" href="//cdn.rawgit.com/innks/NanumSquareRound/master/nanumsquareround.min.css">
<link rel="stylesheet" href="//cdn.rawgit.com/hiun/NanumSquare/master/nanumsquare.css">
<!-- Bootstrap -->
<link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
<style>
  body {
    margin: 0px;
    color: #000;
  }
  input {
    width: 100%;
    height: 45px;
    font-size: 13px;
    border-radius: 10px;
    border:1px solid #ddd;
  }
  select {
    width: 100%;
    height:45px;
    font-size: 13px;
    border-radius: 10px;
    border:1px solid #ddd;
  }
  .content  {
    line-height: 30px;
    padding-top: 35px;
    height: 90px;
    text-align: center;
    color: #000;
  }
  .button {
    height: 100%;
    background-color: #808080;
    border-color: #fff;
    border-radius:10px;
    color: #fff;
    border: none;
  }
  .blank {
    height: 20px;
  }
  .footer {
    position:relative;
    bottom:0;
    height:90px;
    width: 100%;
    text-align: center;
    background-color: #FFCA02;
    border: none;
    color: #fff;
    font-size: 22px;
  }
  .active {
    background-color:#FFCA02 !important;
  }
  .check {
    color:#fff !important;
  }
  div.select_box {
    position: relative;
    height: 45px;
    border: 1px solid #E9DDDD;
    border-radius: 10px;
  }
  div.select_box label {
      position: absolute;
      color: #8e8e8e;
      top: 13px;
      left: 12px;
      letter-spacing: 1px;
  }
  div.select_box select.color {
      width: 100%;
      height: 40px;
      min-height: 40px;
      line-height: 40px;
      padding: 0 10px;
      opacity: 0;
  }
  .swal-modal {
border-radius: 10px;
margin: 0 10px;
/* width: calc(100% - 100px) !important; */
}
.swal-title {
  background-color: #FFCA02;
  color: #FFF;
  margin: 0px !important;
  font-size: 18px;
  margin-bottom: 0px;
  padding-top: 15px;
  border-top-right-radius: 10px;
  border-top-left-radius: 10px;
}
.swal-text { 
  background-color: #FFF;
  padding-top: 17px;
  display: block;
  margin: 22px;
  text-align: center;
  color: #000;
  font-size: 15px;
}
.swal-footer {
  text-align: center;
  color: #FFF;
  background-color: #fff;
}
.swal-button:not([disabled]):hover {
    background-color: #FFCA02;
}
.swal-button:not([disabled]):hover {
    background-color: #FFCA02;
}
.swal-button:active {
    background-color: #FFCA02;
}
.swal-button {
    background-color: #FFCA02;
    color: #fff;
    border: none;
    box-shadow: none;
    border-radius: 5px;
    font-weight: 600;
    font-size: 14px;
    padding: 10px 24px;
    margin: 0;
    cursor: pointer;
    width: 100px;
    height: 40px;
}
</style>
</head>
<body>
  <div style="margin:0 8%;">
    <!-- top space -->
    <div style="text-align:right; padding-top:40px; font-size:25px;"><i class="fas fa-times" id="back"></i></div>
    <div style="text-align:center; padding-top:25px;">
    <!-- logo -->
    <div style="text-align: center;">
      <a href="/login.html"><img src="/images/logo.png" style="width:160px; text-align:center;"></a>
    </div>
    <!-- font -->
    <div style="height:135px;">
      <div class="nsrB content" style="font-size:22px;">추가 회원정보를<br>입력해 주세요.</div>
    </div>
    <form method="POST" id="sign_frm" action="/api/mbl_0200.jsp">
      <!-- api 사용자 id -->
      <input type="hidden" name="USER_ID" value="MOBILE">
      <!-- 등록구분 -->
      <input type="hidden" id="REG_DIV" name="REG_DIV" value="N">
    <!-- 고객id -->
      <input type="hidden" id="CUST_ID" name="CUST_ID">
      
      <!-- 푸쉬 알림 -->
      <input type="hidden" name="PUSH_RCV_YN" value="Y">
      <!-- 이메일 수신 동의 -->
      <input type="hidden" name="EMAIL_RCV_YN" value="Y">
      <!-- 접속구분 -->
      <input type="hidden" name="LOGIN_DIV" value="A">
      <!-- 본인인증 DI정보 -->
      <input type="hidden" id="DI_STR" name="DI_STR">
      <!-- 사용자 성별 -->
      <input type="hidden" id="SEX_DIV" name="SEX_DIV">
      <!-- 사용자 생년월일 -->
      <input type="hidden" id="BIRTH_DT" name="BIRTH_DT">

      <!-- sms 수신 동의 -->
      <input type="hidden" name="SMS_RCV_YN" id="SMS_RCV_YN" value="N">
      <!-- 가입브랜드 코드 -->
      <input type="hidden" name="BRAND_CD" value="101">
      <!-- 가입매장 코드 -->
      <input type="hidden" name="STOR_CD" value="1019999">
      <!-- 아이디 조합 -->
      <input type="hidden" id="CUST_WEB_ID" name="CUST_WEB_ID" value="">
      <!-- 본인인증한 아이디 저장 -->
      <input type="hidden" id="CUST_WEB_ID2" value="">
      
    <label style="text-align:left; width: 100%; margin:0px 3% 0 3%;">아이디</label>
      <div style="height:45px;">
        <div style="float:left; width:34%;">
          <input class="nsR" style="padding-left:10px;" type="text" id="CUST_WEB" placeholder="아이디 입력">        
        </div>
        <div style="float:left; width:6%; height: 100%; padding-top:14px;">@</div>
        <div style="float:left; width:30%;">
          <input class="nsR" style="padding-left:10px; background-color:#f3f3f3" type="text" id="WEB_ID" value="" readonly>
        </div>
        <div style="float:left; width:3%; height:100%;"></div>
        <div class="select_box" style="float:left; width:27%; height:45px;">
          <label for="color" style="left:8px; font-size:12px;">이메일선택</label>
          <select id="select_site" class="color" title="select color">
              <option value="" disabled selected>이메일 선택</option>
              <option value="hanmail.net">다음</option>
              <option value="naver.com">네이버</option>
              <option value="gmail.com">구글</option>
              <option value="nate.com">네이트</option>
              <option value="etc">직접입력</option>
          </select>
        </div>
      </div>

      <button id="idChk-btn" class=" input-group button nsR" style="height:45px; margin-top:20px;" type="button">중복체크</button>
      
      <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">비밀번호</label>
      <input style="padding-left:10px;" type="password" id="CUST_PW" name="CUST_PW" placeholder="비밀번호는 영문+숫자 조합 8~16자리 이내" maxlength="16">

      <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">비밀번호 재입력</label>
      <input style="padding-left:10px;" type="password" id="CUST_PW2" placeholder="비밀번호를 한번 더 입력해주세요." maxlength="16">
      
      <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">이름/성별</label>
      <div style="height:45px;">
        <div style="float:left; width:61%; height:100%;">
          <input class="nsR" style="color:#000; padding-left:10px;" type="text" id="CUST_NM" name="CUST_NM" readonly="readonly">
        </div>
        <div style="float:left; width:3%; height:100%;"></div>
        <div class="input-group" style="height:100%;">
          <div class="input-group-addon nsR sex1" style="border-top-left-radius:10px; border-bottom-left-radius:10px; background-color:#fff; font-size:13px;">남</div>
          <div class="input-group-addon nsR sex2" style="border-top-right-radius:10px; border-bottom-right-radius:10px; background-color:#fff; font-size:13px;">여</div>
        </div>
    </div>
    
      <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">생년월일</label>
    <div style="height:45px;">
        <div style="float:left; width:40%; height:100%;">
          <input class="nsR year" style="text-align:center" type="text" name="birthYear" readonly="readonly">
        </div>
        <div style="float:left; width:3%; height:100%;"></div>
        <div style="float:left; width:27%; height:100%;">
          <input class="nsR month" style="text-align:center" type="text" name="birthMonth"readonly="readonly">
        </div>
        <div style="float:left; width:3%; height:100%;"></div>
        <div class="input-group" style="float:left; width:27%; height:100%;">
          <input class="nsR day" style="text-align:center" type="text" name="birthDay" readonly="readonly">
        </div>
    </div> 
    
    <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">휴대전화 번호</label>
    <input class="nsR" style="padding-left:10px;" type="text" id="MOBILE" name="MOBILE" readonly="readonly">

    <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">이메일</label>
      <input class="nsR" style="padding-left:10px;" type="text" id="EMAIL" name="EMAIL" placeholder="e-mail 주소를 입력해 주세요.">


      <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">우편번호/주소</label>
      <div style="height:45px;">
        <div style="float:left; width:36%; height:100%;">
          <input type="text" style="padding-left:10px;" id="ZIP_CD" name="ZIP_CD" placeholder="우편번호 찾기" onclick="sample3_execDaumPostcode()" readonly="readonly">
        </div>
        <div style="float:left; width:3%; height:100%;"></div>
        <div class="input-group" style="height:100%; width: 61%;">
          <input type="text" style="padding-left:10px;" id="ADDR1" name="ADDR1" readonly="readonly">
          <input id="SIDO_NM" type="hidden" name="SIDO_NM" value="">
          <input id="REGION_NM" type="hidden" name="REGION_NM" value="">
        </div>
      </div>

    <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">상세주소</label>
      <input type="text" style="padding-left:10px;" id="ADDR2" name="ADDR2" placeholder="나머지 주소를 입력해 주세요.">
    
    <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">자녀수</label>
      <input type="number" style="padding-left:10px;" name="CHILD_CNT" placeholder="자녀수를 입력해주세요.">
    
      <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">아이와의 관계</label>
      <div class="select_box nsR" style="margin-bottom:20px;">
        <label for="color">자녀분과의 관계를 선택해주세요.</label>
        <select id="relation" class="color" title="select color">
            <option value="0" disabled selected>관계 선택</option>
        </select>
      </div>
      <input type="hidden" style="padding-left:10px;" name="CHILD_REL_CD" id="CHILD_REL_CD">
      <input type="text" style="padding-left:10px; display:none;" id="CHILD_REL_NM" name="CHILD_REL_NM" placeholder="관계를 입력해주세요.">

      <div style="padding-top:50px; text-align:left; font-size:15px; height: 78px;">자녀등록</div>
      
      
    <!--  defualt children input  -->
    <div id="def_chi" class="children">
        <label style="text-align:left; width: 100%; margin:0px 3% 0 3%;">자녀 이름/성별</label>
        <div style="height:45px;">
          <!-- member name input box -->
          <div style="float:left; width:61%; height:100%;">
            <input class="nsR child_nm" style="color:#000; padding-left:10px;" type="text" name="C_CHILD_NM" placeholder="자녀의 이름을 입력해주세요.">
          </div>
          <!-- blank space -->
          <div style="float:left; width:3%; height:100%;"></div>
          <!-- gender select -->
          <div class="input-group" style="height:100%;">
            <div class="input-group-addon nsR ch_sex1" style="border-top-left-radius:10px; border-bottom-left-radius:10px; background-color:#fff; font-size:13px;" onclick="console.log(2)">남</div>
            <div class="input-group-addon nsR ch_sex2" style="border-top-right-radius:10px; border-bottom-right-radius:10px; background-color:#fff; font-size:13px;" onclick="console.log(2)">여</div>
            <input type="hidden" class="sex_div" name="C_SEX_DIV">
            <input type="hidden" class="birth_dt" name="C_BIRTH_DT">
            <input type="hidden" name="C_USE_YN" value="Y">
            <input type="hidden" name="C_CHILD_NO" value="0">
          </div>
        </div>
  
      <label style="text-align:left; width: 100%; margin:20px 3% 0 3%;">자녀 생년월일</label>
        <div style="height:45px; margin-bottom:20px;">
          <!-- member birthday input box -->
          <div style="float:left; width:40%; height:100%;">
            <!-- <input class="nsR year" style="text-align:center" type="number" name="C_BirthYear" placeholder="ex) 2002" maxlength="4"> -->
            <select class="nsR year" name="C_BirthYear">
              <option value="">연도 선택</option>
            </select>
          </div>
          <!-- blank space -->
          <div style="float:left; width:3%; height:100%;"></div>
          <!-- member birthday input box -->
          <div style="float:left; width:27%; height:100%;">
            <!-- <input class="nsR month" style="text-align:center" type="number" name="C_BirthMonth" placeholder="ex) 01" maxlength="2"> -->
            <select class="nsR month" name="C_BirthMonth">
              <option value="">월 선택</option>
              <option value="01">1월</option>
              <option value="02">2월</option>
              <option value="03">3월</option>
              <option value="04">4월</option>
              <option value="05">5월</option>
              <option value="06">6월</option>
              <option value="07">7월</option>
              <option value="08">8월</option>
              <option value="09">9월</option>
              <option value="10">10월</option>
              <option value="11">11월</option>
              <option value="12">12월</option>
            </select>
          </div>
          <!-- blank space -->
          <div style="float:left; width:3%; height:100%;"></div>
          <!-- member birthday input box -->
          <div class="input-group" style="float:left; width:27%; height:100%;">
            <!-- <input class="nsR day" style="text-align:center" type="number" name="C_BirthDay" placeholder="ex) 01" maxlength="2"> -->
            <select class="nsR day" name="C_BirthDay">
              <option value="">일 선택</option>
            </select>
          </div>
        </div>
    </div>
      
    <!-- children addition -->
      <div id="C_frm"></div>
      
    </div>
  </div>
</div>
    <!-- add children button -->
    <button id="add-btn" type="button" class="footer nsB" style="font-size:15px; background-color:#fff; color:#000; height:125px;">자녀분이 더 있으신가요?</p></button>
    <!-- next step button  -->
    <button id="next-btn" type="button" class="footer nsrEB">가입하기</button>
  </form>



  <!-- iOS에서는 position:fixed 버그가 있음, 적용하는 사이트에 맞게 position:absolute 등을 이용하여 top,left값 조정 필요 -->
  <div id="layer" style="display:none; position:fixed; overflow:hidden; z-index:1; -webkit-overflow-scrolling:touch;">
    <img src="//t1.daumcdn.net/localimg/localimages/07/postcode/320/close.png" id="btnCloseLayer" style="cursor:pointer;position:absolute;right:-3px;top:-3px;z-index:1" onclick="closeDaumPostcode()" alt="닫기 버튼">
  </div>

<script src="//code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
<script src="/js/sweetalert.min.js"></script>
<script src="//ssl.daumcdn.net/dmaps/map_js_init/postcode.v2.js"></script>
<script type="text/javascript" src="//jsgetip.appspot.com"></script>
<script type="text/javascript">
function setCookie(name, value, days) {
  var d = new Date;
  d.setTime(d.getTime() + 24*60*60*1000*days);
  document.cookie = name + "=" + value + ";path=/;expires=" + d.toGMTString();
}
function getCookie(name) {
  var v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
  return v ? v[2] : null;
}
function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
function getParameterByName(name) {
  name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
    results = regex.exec(location.search);
  return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}
String.prototype.trim = function() {
    return this.replace(/(^\s*)|(\s*$)/gi, "");
}
var year = new Date();
$(document).ready(function(){
  // 마케팅 수신 동의 결과에 따른 수신동의
  var sms = getCookie('sms');
  if(sms == null || sms == "N" || sms == "") {
    $("#SMS_RCV_YN").val("N");
  }else {
    $("#SMS_RCV_YN").val(sms);
  }

  // 단건조회 결과
  var BRAND_CD = getCookie('BRAND_CD');
  var BRAND_NM = getCookie('BRAND_NM');
  var CUST_ID = getCookie('CUST_ID');
  var CUST_WEB_ID = getCookie('CUST_WEB_ID');
  var STOR_CD = getCookie('STOR_CD');
  var STOR_NM = getCookie('STOR_NM');
  
  var yearhtml = "";
  

  for(var i = 2000;i <= year.getFullYear();i++){
    yearhtml += "<option value='"+i+"'>"+i+"년</option>";
  }

  $(".children").find(".year").append(yearhtml);
  
  
  //  기존 회원 정보가 존재할 경우와 아닐경우
  if( CUST_ID == "" || CUST_ID == null) {
    $("#CUST_ID").val("");
  }else {
    $("#CUST_ID").val(CUST_ID);
    //자녀조회 및 추가
    console.log(CUST_ID);
    var datas = $("#sign_frm").serialize();
    $.ajax({
      url : "/api/mbl_0110.jsp",
      type : 'POST',
      dataType : 'JSON',
      data : datas,
          success:function(response){ 
            console.log(response);
            if(response.RET_CD == "0001") {
          var result = "";
          if(response.RESULT.length > 0) {
            for(var i = 0; i < response.RESULT.length; i++) {
              if(i == 0){
                var addhtml = "";
              }else{
                var addhtml = "<i class='fas fa-times cancel' onclick='console.log(2)'></i>";
              }
            result += "<div class='children'>"
              + "<div style='padding-top:20px; text-align:right; font-size:25px;'>"+addhtml+"</div>"
              + "<label style='text-align:left; width: 100%; margin:0px 3% 0 3%;'>자녀이름/성별</label>"
              + "<div style='height:45px;'>"
              + "<div style='float:left; width:61%; height:100%;'>"
              + "<input type='hidden' class='sex_div' name='C_SEX_DIV' value='"+response.RESULT[i].SEX_DIV+"'>"
              + "<input type='hidden' class='birth_dt' name='C_BIRTH_DT' value='"+response.RESULT[i].BIRTH_DT+"'>"
              + "<input type='hidden' name='C_USE_YN' class='c_use_yn' value='Y'>"
              + "<input type='hidden' name='C_CHILD_NO' class='c_child_no' value='"+response.RESULT[i].CHILD_NO+"'>"
              + "<input class='nsR child_nm' style='color:#000; padding-left:10px;' type='text' name='C_CHILD_NM' value='"+response.RESULT[i].CHILD_NM+"' placeholder='자녀의 이름을 입력해주세요.'>"
              + "</div>"
              + "<div style='float:left; width:3%; height:100%;'></div>"
              + "<div class='input-group' style='height:100%;'>";
              if(response.RESULT[i].SEX_DIV == "M"){
                result += "<div class='input-group-addon nsR ch_sex1' style='border-top-left-radius:10px; border-bottom-left-radius:10px; background-color:#FFCA02; font-size:13px;color:#fff' onclick='console.log(2)'>남</div>"
              }else{
                result += "<div class='input-group-addon nsR ch_sex1' style='border-top-left-radius:10px; border-bottom-left-radius:10px; background-color:#fff; font-size:13px;' onclick='console.log(2)'>남</div>"
              }
  
              if(response.RESULT[i].SEX_DIV == "F"){
                result += "<div class='input-group-addon nsR ch_sex2' style='border-top-right-radius:10px; border-bottom-right-radius:10px; background-color:#FFCA02; font-size:13px; color:#fff' onclick='console.log(2)'>여</div>"
              }else{
                result += "<div class='input-group-addon nsR ch_sex2' style='border-top-right-radius:10px; border-bottom-right-radius:10px; background-color:#fff; font-size:13px;' onclick='console.log(2)'>여</div>"
              }
              

              if (response.RESULT[i].BIRTH_DT != null && response.RESULT[i].BIRTH_DT != '') {
                result += "</div>"
                  + "</div>"
                  + "<label style='text-align:left; width: 100%; margin:20px 3% 0 3%;'>자녀 생년월일</label>"
                  + "<div style='height:45px; margin-bottom: 20px;'>"
                  + "<div style='float:left; width:40%; height:100%;'>"
                  // + "<input class='nsR year' style='text-align:center' type='text' name='childrenBirthYear' placeholder='ex) 2002' maxlength='4' value='"+response.RESULT[i].BIRTH_DT.substring(0,4)+"'>"
                  + "<select class='nsR year' name='childrenBirthYear'>";
                  + "<option value=''>연도 선택</option>";
                  for(var j = 2000;j <= year.getFullYear();j++){
                    if(j == response.RESULT[i].BIRTH_DT.substring(0,4)){
                      var selected = "selected";
                    }else{
                      var selected = "";
                    }
                    result += "<option value='"+j+"' "+selected+">"+j+"년</option>";
                  }
                  result += "</select>"
                  + "</div>"
                  + "<div style='float:left; width:3%; height:100%;'></div>"
                  + "<div style='float:left; width:27%; height:100%;'>"
                  // + "<input class='nsR month' style='text-align:center' type='text' name='childrenBirthMonth' placeholder='ex) 01' maxlength='2' value='"+response.RESULT[i].BIRTH_DT.substring(4,6)+"'>"
                  + "<select class='nsR month' name='childrenBirthMonth' data-day='"+response.RESULT[i].BIRTH_DT.substring(6,8)+"'>"
                  + "<option value=''>월 선택</option>"
                  + '<option value="01" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "01" ? "selected":"")+'>1월</option>'
                  + '<option value="02" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "02" ? "selected":"")+'>2월</option>'
                  + '<option value="03" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "03" ? "selected":"")+'>3월</option>'
                  + '<option value="04" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "04" ? "selected":"")+'>4월</option>'
                  + '<option value="05" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "05" ? "selected":"")+'>5월</option>'
                  + '<option value="06" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "06" ? "selected":"")+'>6월</option>'
                  + '<option value="07" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "07" ? "selected":"")+'>7월</option>'
                  + '<option value="08" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "08" ? "selected":"")+'>8월</option>'
                  + '<option value="09" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "09" ? "selected":"")+'>9월</option>'
                  + '<option value="10" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "10" ? "selected":"")+'>10월</option>'
                  + '<option value="11" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "11" ? "selected":"")+'>11월</option>'
                  + '<option value="12" '+(response.RESULT[i].BIRTH_DT.substring(4,6) == "12" ? "selected":"")+'>12월</option>'
                  + "</select>"
                  + "</div>"
                  + "<div style='float:left; width:3%; height:100%;'></div>"
                  + "<div class='input-group' style='float:left; width:27%; height:100%;'>"
                  // + "<input class='nsR day' style='text-align:center' type='text' name='childrenBirthDay' placeholder='ex) 01' maxlength='2' value='"+response.RESULT[i].BIRTH_DT.substring(6,8)+"'>"
                  + "<select class='nsR day' name='childrenBirthDay'>"
                  + "<option value=''>일 선택</option>"
                  + "</select>"
                  + "<div class='blank'></div>"
                  + "</div>"
                  + "</div>"
                  + "</div>"
                  + "</div>"
              }else {
                result += "</div>"
                  + "</div>"
                  + "<label style='text-align:left; width: 100%; margin:20px 3% 0 3%;'>자녀 생년월일</label>"
                  + "<div style='height:45px; margin-bottom: 20px;'>"
                  + "<div style='float:left; width:40%; height:100%;'>"
                  // + "<input class='nsR year' style='text-align:center' type='text' name='childrenBirthYear' placeholder='ex) 2002' maxlength='4' value=''>"
                  + "<select class='nsR year' name='childrenBirthYear'>";
                  + "<option value=''>연도 선택</option>";
                  for(var j = 2000;j <= year.getFullYear();j++){
                    
                    result += "<option value='"+j+"'>"+j+"년</option>";
                  }
                  result += "</select>"
                  + "</div>"
                  + "<div style='float:left; width:3%; height:100%;'></div>"
                  + "<div style='float:left; width:27%; height:100%;'>"
                  // + "<input class='nsR month' style='text-align:center' type='text' name='childrenBirthMonth' placeholder='ex) 01' maxlength='2' value=''>"
                  + "<select class='nsR month' name='childrenBirthMonth'>"
                  + "<option value=''>월 선택</option>"
                  + '<option value="01" >1월</option>'
                  + '<option value="02" >2월</option>'
                  + '<option value="03" >3월</option>'
                  + '<option value="04" >4월</option>'
                  + '<option value="05" >5월</option>'
                  + '<option value="06" >6월</option>'
                  + '<option value="07" >7월</option>'
                  + '<option value="08" >8월</option>'
                  + '<option value="09" >9월</option>'
                  + '<option value="10" >10월</option>'
                  + '<option value="11" >11월</option>'
                  + '<option value="12" >12월</option>'
                  + "</select>"
                  + "</div>"
                  + "<div style='float:left; width:3%; height:100%;'></div>"
                  + "<div class='input-group' style='float:left; width:27%; height:100%;'>"
                  // + "<input class='nsR day' style='text-align:center' type='text' name='childrenBirthDay' placeholder='ex) 01' maxlength='2' value=''>"
                  + "<select class='nsR day' name='childrenBirthDay'>"
                  + "<option value=''>일 선택</option>"
                  + "</select>"
                  + "<div class='blank'></div>"
                  + "</div>"
                  + "</div>"
                  + "</div>"
                  + "</div>"
              }

/*
              result += "</div>"
              + "</div>"
              + "<label style='text-align:left; width: 100%; margin:20px 3% 0 3%;'>자녀 생년월일</label>"
              + "<div style='height:45px; margin-bottom: 20px;'>"
              + "<div style='float:left; width:40%; height:100%;'>"
              + "<input class='nsR year' style='text-align:center' type='text' name='childrenBirthYear' placeholder='ex) 2002' maxlength='4' value='"+response.RESULT[i].BIRTH_DT.substring(0,4)+"'>"
              + "</div>"
              + "<div style='float:left; width:3%; height:100%;'></div>"
              + "<div style='float:left; width:27%; height:100%;'>"
              + "<input class='nsR month' style='text-align:center' type='text' name='childrenBirthMonth' placeholder='ex) 01' maxlength='2' value='"+response.RESULT[i].BIRTH_DT.substring(4,6)+"'>"
              + "</div>"
              + "<div style='float:left; width:3%; height:100%;'></div>"
              + "<div class='input-group' style='float:left; width:27%; height:100%;'>"
              + "<input class='nsR day' style='text-align:center' type='text' name='childrenBirthDay' placeholder='ex) 01' maxlength='2' value='"+response.RESULT[i].BIRTH_DT.substring(6,8)+"'>"
              + "<div class='blank'></div>"
              + "</div>"
              + "</div>"
              + "</div>"
              + "</div>"
*/
            }
            $("#C_frm").append(result);
            $("#def_chi").hide();
          } 
        }
      }  
      }); 
  }

  
  if( BRAND_CD == "") {
    $("#BRAND_CD").val("101");
  }else {
    $("#BRAND_CD").val(BRAND_CD);
  }
  if( BRAND_NM == "") {
    $("#BRAND_CD").val("");
  }else {
    $("#BRAND_CD").val(BRAND_NM);
  }
  if( STOR_NM == "") {
    $("#STOR_CD").val("");
  }else {
    $("#STOR_CD").val(STOR_NM);
    }
  if( STOR_NM == "") {
    $("#STOR_CD").val("1019999");
  }else {
    $("#STOR_CD").val(STOR_CD);
    }
    
  // 본인인증 정보 받기
  var name = getParameterByName('name');
  var phoneNo = getParameterByName('phoneNo');
  var birthDay = getParameterByName('birthDay');
  var gender = getParameterByName('gender');
  var DI = getParameterByName('DI');
  $("#DI_STR").val(DI);
  $("#CUST_NM").val(name);
  $("#MOBILE").val(phoneNo);
  $("#BIRTH_DT").val(birthDay);
  var yyyy = birthDay.substr(0, 4);
  var mm = birthDay.substr(4, 2);
  var dd = birthDay.substr(6, 2);
  $('input[name=birthYear]').val(yyyy);
  $('input[name=birthMonth]').val(mm);
  $('input[name=birthDay]').val(dd);  
  if (gender == 0) {
    $("#SEX_DIV").val("M");
    $('.sex1').addClass('active');    
  }else {
    $("#SEX_DIV").val("F");
    $('.sex2').addClass('active');
  }
  $("#DI_STR").val(DI);

  // 공통코드 api 조회
  $.ajax({
      url : "/api/mbl_0710.jsp",
      type : 'POST',
      dataType : 'JSON',
        success:function(response){
          if(response.RET_CD == "0001") {
            var result = "";
            for(var i = 0; i < response.RESULT.length; i++) {
              result += "<option data-code='"+response.RESULT[i].CODE_CD+"' data-text='"+response.RESULT[i].CODE_NM+"'>"+response.RESULT[i].CODE_NM+"</option>";
            }
            $("#relation").append(result);
          }
        }
    });
    return false;
  })
  

  // 자녀 추가버튼 이벤트
  $("#add-btn").click(function(){
      var result = "";
          result += "<div class='children'>"
              +"<div style='padding-top:20px; text-align:right; font-size:25px;'><i class='fas fa-times cancel' onclick='console.log(2)'></i></div>"
              + "<label style='text-align:left; width: 100%; margin:0px 3% 0 3%;'>자녀이름/성별</label>"
              +"<div style='height:45px;'>"
              +"<div style='float:left; width:61%; height:100%;'>"
              +"<input class='nsR child_nm' style='color:#000; padding-left:10px;' type='text' name='C_CHILD_NM' placeholder='자녀의 이름을 입력해주세요.'>"
              +"</div>"
              +"<div style='float:left; width:3%; height:100%;'></div>"
              +"<div class='input-group' style='height:100%;'>"
              +"<div class='input-group-addon nsR ch_sex1' style='border-top-left-radius:10px; border-bottom-left-radius:10px; background-color:#fff; font-size:13px;' onclick='console.log(2)'>남</div>"
              +"<div class='input-group-addon nsR ch_sex2' style='border-top-right-radius:10px; border-bottom-right-radius:10px; background-color:#fff; font-size:13px;' onclick='console.log(2)'>여</div>"
              +"<input type='hidden' class='sex_div' name='C_SEX_DIV'>"
              +"<input type='hidden' class='birth_dt' name='C_BIRTH_DT'>"
              +"<input type='hidden' name='C_USE_YN' value='Y'>"
              +"<input type='hidden' name='C_CHILD_NO' value='0'>"
              +"</div>"
              +"</div>"
        + "<label style='text-align:left; width: 100%; margin:20px 3% 0 3%;'>자녀 생년월일</label>"
        + "<div style='height:45px; margin-bottom: 20px;'>"
              +"<div style='float:left; width:40%; height:100%;'>"
              // +"<input class='nsR year' style='text-align:center' type='text' name='childrenBirthYear' placeholder='ex) 2002' maxlength='4'>"
              + "<select class='nsR year' name='childrenBirthYear'>"
              + "<option value=''>연도 선택</option>"
              for(var i = 2000;i <= year.getFullYear();i++){
                
                result += "<option value='"+i+"'>"+i+"년</option>";
              }
              result += "</select>"
              +"</div>"
              +"<div style='float:left; width:3%; height:100%;'></div>"
              +"<div style='float:left; width:27%; height:100%;'>"
              // +"<input class='nsR month' style='text-align:center' type='text' name='childrenBirthMonth' placeholder='ex) 01' maxlength='2'>"
              + "<select class='nsR month' name='childrenBirthMonth'>"
              + "<option value=''>월 선택</option>"
              + '<option value="01" >1월</option>'
              + '<option value="02" >2월</option>'
              + '<option value="03" >3월</option>'
              + '<option value="04" >4월</option>'
              + '<option value="05" >5월</option>'
              + '<option value="06" >6월</option>'
              + '<option value="07" >7월</option>'
              + '<option value="08" >8월</option>'
              + '<option value="09" >9월</option>'
              + '<option value="10" >10월</option>'
              + '<option value="11" >11월</option>'
              + '<option value="12" >12월</option>'
              + "</select>"
              +"</div>"
              +"<div style='float:left; width:3%; height:100%;'></div>"
              +"<div class='input-group' style='float:left; width:27%; height:100%;'>"
              + "<select class='nsR day' name='childrenBirthDay'>"
              + "<option value=''>일 선택</option>"
              + "</select>"
              +"<div class='blank'></div>"
              +"</div>"
              +"</div>"
              +"</div>"
      $("#C_frm").append(result);
    });

  // 자녀 삭제버튼
  $("body").on("click",".cancel",function(){ 
    var children = $(this).parent().parent();
    // children.remove();
    if(children.find(".c_child_no").val() != "0"){
      children.hide();
      children.find(".c_use_yn").val("N");
    }else{
      children.remove();
    }
  });

  // 자녀 생년월일 change evants
//   $(document).on("change",".year",function(){ 
//     var C_birth = $(this).parent().parent().parent().find($("input[name=C_BIRTH_DT]"));
//     var year = $(this);
//     var month = $(this).parent().parent().find($(".month"));
//     var day = $(this).parent().parent().find($(".day"));
//     if(year.val() != "" && month.val() != "" && day.val() != "") {
//       birthday = year.val() + month.val() + day.val();
//       if (birthday.length < 8) {
//         swal({
//           button: "확인",
//           title: "안내",
//           text: "자녀 생년월일 형식이 올바르지 않습니다.",
// //           closeOnClickOutside: false
//         });
//       }
//       C_birth.val(birthday);
//     }
//   });
//   $(document).on("change",".month",function(){ 
//     var C_birth = $(this).parent().parent().parent().find($("input[name=C_BIRTH_DT]"));
//     var year = $(this).parent().parent().find($(".year"));
//     var month = $(this);
//     var day = $(this).parent().parent().find($(".day"));
//     if(year.val() != "" && month.val() != "" && day.val() != "") {
//       birthday = year.val() + month.val() + day.val();
//       if (birthday.length < 8) {
//         swal({
//           button: "확인",
//           title: "안내",
//           text: "자녀 생년월일 형식이 올바르지 않습니다.",
// //           closeOnClickOutside: false
//         });
//       }
//       C_birth.val(birthday);
//     }
//   });
//   $(document).on("change",".day",function(){ 
//     var C_birth = $(this).parent().parent().parent().find($("input[name=C_BIRTH_DT]"));
//     var year = $(this).parent().parent().find($(".year"));
//     var month = $(this).parent().parent().find($(".month"));
//     var day = $(this);
//     if(year.val() != "" && month.val() != "" && day.val() != "") {
//       birthday = year.val() + month.val() + day.val();
//       if (birthday.length < 8) {
//         swal({
//           button: "확인",
//           title: "안내",
//           text: "자녀 생년월일 형식이 올바르지 않습니다.",
// //           closeOnClickOutside: false
//         });
//       }
//       C_birth.val(birthday);
//     }
//   });
  $(document).on("change",".month",function(){ 
    var month = $(this);
    var setdate = $(this).data("day");
  
    var day = $(this).parent().parent().find($(".day"));
    day.empty();
    day.append('<option value="">일 선택</option>');
    if(setdate === undefined){
      var dayoption = getDays(month.val(),'');
    }else{
      var dayoption = getDays(month.val(),setdate);
    }
    
    day.append(dayoption);
  });

  // 자녀성별 클릭이벤트
  $(document).on("click",".ch_sex1",function(){ 

    var m_sex = $(this).parent().find($(".ch_sex1"));
    var f_sex = $(this).parent().find($(".ch_sex2"));
    var v_sex = $(this).parent().find($("input[name=C_SEX_DIV]"));
    m_sex.css('background-color','#FFCA02');
    f_sex.css('background-color','#FFF');
    v_sex.val("M");
  });
  $(document).on("click",".ch_sex2",function(){ 

    var m_sex = $(this).parent().find($(".ch_sex1"));
    var f_sex = $(this).parent().find($(".ch_sex2"));
    var v_sex = $(this).parent().find($("input[name=C_SEX_DIV]"));
    f_sex.css('background-color','#FFCA02');
    m_sex.css('background-color','#FFF');
    v_sex.val("F");
  });
  // selectbox list 변경
  var select = $("select.color");
  select.change(function(){
    var select_name = $(this).children("option:selected").text();
    $(this).siblings("label").text(select_name);
  });

  $("#relation").on("change", function() {
    var option = $(this).find("option:selected");
    r_code = option.data('code');
    r_name = option.data('text');
    $('#CHILD_REL_CD').val(r_code);
    $('#CHILD_REL_NM').val(r_name);
    if(r_code == 99) {
      $("#CHILD_REL_NM").css('display','block');
      $('#CHILD_REL_CD').val(r_code);
      $('#CHILD_REL_NM').val("");
    }
  });
  
  $("#select_site").on("change", function() {
    var site = $(this).val();
    if(site == "etc") {
      $('#WEB_ID').prop("readonly",false);
      $('#WEB_ID').css("background-color","#FFF");
      $('#WEB_ID').val("");
      $('#CUST_WEB_ID').val("");
    }else {
      $('#WEB_ID').prop("readonly",true);
      $('#WEB_ID').css("background-color","#F3F3F3");
      $('#WEB_ID').val(site);
      var id = $('#CUST_WEB').val();
      var email = $('#WEB_ID').val();
      var pt_id = id+"@"+email;
      $('#CUST_WEB_ID').val(pt_id);
    }
  });
  $('#CUST_WEB').change(function(){
    var id = $('#CUST_WEB').val();
    var email = $('#WEB_ID').val();
    var pt_id = id+"@"+email;
    $('#CUST_WEB_ID').val(pt_id);
  });
  $('#WEB_ID').change(function(){
    var id = $('#CUST_WEB').val();
    var email = $('#WEB_ID').val();
    var pt_id = id+"@"+email;
    $('#CUST_WEB_ID').val(pt_id);
  });
  $("#CUST_WEB").keyup(function(){
    var cust = $("#CUST_WEB").val().trim();
    $("#CUST_WEB").val(cust);
  });

  $("#WEB_ID").keyup(function(){
    var cust = $("#WEB_ID").val().trim();
    $("#WEB_ID").val(cust);
  });


  // ID중복확인버튼
  $("#idChk-btn").click(function(){
    $("#idChk-btn").removeClass("active");
    var email = $("#CUST_WEB_ID").val().trim();
    var regExp = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
    if( !email ){ 
      swal({
        button: "확인",
        title: "안내",
        text: '아이디를 확인해주세요.',
//         closeOnClickOutside: false
      })
      return false; 
    }else { 
      if(!regExp.test(email)) { 
        swal({
        button: "확인",
        title: "안내",
        text: '아이디는 이메일형식(000@000.000)으로 입력해주세요.',
//         closeOnClickOutside: false
        })
      return false; 
      } 
    }
    if($('#CUST_WEB').val() == "") {
      swal({
          button: "확인",
      title: "안내",
      text: '아이디를 입력해주세요.',
//      closeOnClickOutside: false
        })
      return false; 
    }
    if($('#CUST_WEB').val() == "") {
      swal({
          button: "확인",
      title: "안내",
      text: '아이디의 이메일을 선택(입력)해주세요.',
//      closeOnClickOutside: false
        })
      return false; 
    }
    
    var datas = $("#sign_frm").serialize();
    $.ajax({
      url : "/api/mbl_0120.jsp",
      type : 'POST',
      dataType : 'JSON',
      data : datas,
        success:function(response){
          // console.log(response);
          if(response.RESULT[0].USE_POSS_YN == "Y") {
            swal({
              button: "확인",
              title: "알림",
              text: "사용가능한 ID입니다.",
              closeOnClickOutside: false
            });
            $("#idChk-btn").addClass("active");
            $("#CUST_WEB_ID2").val(response.RESULT[0].CUST_WEB_ID);
            $("#EMAIL").val(response.RESULT[0].CUST_WEB_ID);
          }else if(response.RESULT[0].USE_POSS_YN == "N") {
            swal({
              button: "확인",
              title: "안내",
              text: "이미 사용중인 ID입니다.",
//               closeOnClickOutside: false
            });
            $("#CUST_WEB_ID2").val("");
          }else {
            swal({
              button: "확인",
              title: "안내",
              // text: "오류코드: "+response.RET_CD+"\n"+response.RET_MSG,
              text: response.RET_MSG
//               closeOnClickOutside: false
            });
            $("#CUST_WEB_ID2").val("");
          }
        }
    });
    return false;
  })


  // 가입하기 버튼 클릭 이벤트
  var able = true;

  $("#next-btn").click(function(){    

      var email = $("#CUST_WEB_ID").val().trim();
    var email2 = $("#EMAIL").val().trim();
    var regExp = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
    var regPw = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,16}$/;
    // validation 항목     
    if( !email ){ 
      swal({
        button: "확인",
        title: "안내",
        text: '아이디를 입력해주세요.',
        closeOnClickOutside: false
      })
      return false; 
    }else if(!regExp.test(email)) { 
      swal({
        button: "확인",
        title: "안내",
        text: '아이디는 이메일형식(abc@def.ghi)으로 입력해주세요.',
            closeOnClickOutside: false
      })
      return false; 
    } 
    if( !email2 ){ 
      swal({
        button: "확인",
        title: "안내",
        text: '미입력 또는 잘못된 형식의 이메일주소입니다.',
            closeOnClickOutside: false
      })
      return false; 
    }else if(!regExp.test(email2)) { 
      swal({
        button: "확인",
        title: "안내",
        text: '잘못된 형식의 이메일주소입니다.',
            closeOnClickOutside: false
      })
      return false; 
    } 
    // id chk-btn validation
    if($("#CUST_WEB_ID").val() != $("#CUST_WEB_ID2").val()) {
      swal({
        button: "확인",
        title: "안내",
        text: "ID 중복체크를 다시해주세요.",
        closeOnClickOutside: false
      });
      return false;
    }
    // pwd validation
    if($("#CUST_PW").val() == "") {
      swal({
        button: "확인",
        title: "안내",
        text: "비밀번호를 입력해주세요.",
            closeOnClickOutside: false
      });
      return false;
    }
    if($("#CUST_PW2").val() == "") {
      swal({
        button: "확인",
        title: "안내",
        text: "비밀번호를 한번 더 입력해주세요.",
            closeOnClickOutside: false
      });
      return false;
    }
    if($("#CHILD_REL_CD").val() == "") {
      swal({
        button: "확인",
        title: "안내",
        text: "관계를 선택해주세요.",
            closeOnClickOutside: false
      });
      return false;
    }
    if($("#CHLD_CNT").val() == "") {
      swal({
        button: "확인",
        title: "안내",
        text: "자녀수를 입력해주세요.",
        closeOnClickOutside: false
      });
      return false;
    }
    
    var regExpPw = /[A-Za-z]/;
    var reqExpPw2 = /[0-9]/;
    var pwCheck = true;
    if(!regExpPw.test($("#CUST_PW").val())) {
      pwCheck = false;
    }
    
    if(!reqExpPw2.test($("#CUST_PW").val())){
      pwCheck = false;
    }
    
    if(!pwCheck){
      swal({
        button: "확인",
        title: "안내",
        text: "비밀번호는 숫자와 영문자 조합으로 8~16자리를 사용해야 합니다."
      });
      return false;
    }
    if($("#CUST_PW").val() != $("#CUST_PW2").val()) {
      swal({
        button: "확인",
        title: "안내",
        text: "비밀번호가 일치하지 않습니다.",
            closeOnClickOutside: false
      });
      return false;
    }
    if($("#EMAIL").val() == "") {
      swal({
        button: "확인",
        title: "안내",
        text: "이메일 주소를 입력해 주세요.",
            closeOnClickOutside: false
      });
      return false;
    }
    if($("#ZIP_CD").val() == "") {
      swal({
        button: "확인",
        title: "안내",
        text: "우편번호를 입력해 주세요.",
            closeOnClickOutside: false
      });
      return false;
    }
    if($("#ADDR1").val() == "") {
      swal({
        button: "확인",
        title: "안내",
        text: "우편주소를 입력해 주세요.",
            closeOnClickOutside: false
      });
      return false;
    }

    var childrenYn = true;

    // if($("#def_chi").find(".child_nm").val() == "" && $("#def_chi").find(".sex_div").val() == "" && $("#def_chi").find(".year").val() == "" && $("#def_chi").find(".month").val() == "" && $("#def_chi").find(".day").val() == ""){
    //   childrenYn = false;
    // }else if($("#def_chi").find(".child_nm").val() != "" && $("#def_chi").find(".sex_div").val() != "" && $("#def_chi").find(".year").val() != "" && $("#def_chi").find(".month").val() != "" && $("#def_chi").find(".day").val() != ""){
    //   childrenYn = true;
    // }else{
    //   childrenYn = false;
    // }
    $(".children").each(function(){
      console.log($(this).css("display"));
      if($(this).css("display") != "none"){
        var child_nm = $(this).find(".child_nm").val();
        var sex_div = $(this).find(".sex_div").val();
        var year = $(this).find(".year").val();
        var month = $(this).find(".month").val();
        var day = $(this).find(".day").val();
        console.log(child_nm);

        if(child_nm == ""){
          childrenYn = false;
        }

        if(sex_div == ""){
          childrenYn = false;
        }

        if(year == ""){
          childrenYn = false;
        }
        if(month == ""){
          childrenYn = false;
        }
        if(day == ""){
          childrenYn = false;
        }
        $(this).find($("input[name=C_BIRTH_DT]")).val(year+month+day);
      }
    });

    if(!childrenYn){
      swal({
        button: "확인",
        title: "안내",
        text: "아이 정보중 이름, 성별, 생년월일은 필수값입니다.",
            closeOnClickOutside: false
      });
      return false;
    }
    var timestamp = new Date().getTime();
    var datas = $("#sign_frm").serialize();
    // console.log(datas);
    // return false;
    if(able == true) {
      able = false;
      $.ajax({
        url : "/api/mbl_0200.jsp",
        type : 'POST',
        dataType : 'JSON',
        data : datas,
          success:function(response){
            if(response.RET_CD == "0001") {
              if(response.RET_CD2 != "0001"){
                swal({
                  button: "확인",
                  title: "안내",
                  // text: '오류코드: '+response.RET_CD2+'\n'+response.RET_MSG2,
                  text: response.RET_MSG,
                  closeOnClickOutside: false
                }).then(function() {
                  able = true;
                  return false;
                });
              }else{
                setCookie('user', null, -1);
                document.location.href="/sign_up3.html";
              }
            }else {
              swal({
                button: "확인",
                title: "안내",
                // text: '오류코드: '+response.RET_CD+'\n'+response.RET_MSG,
                text: response.RET_MSG,
                closeOnClickOutside: false
              }).then(function() {
                able = true;
                return false;
              });
            }
          }
      });
    }else {
      swal({
        button: "확인",
        title: "안내",
        text: '이미 처리중입니다.\n잠시후 다시 시도해주세요.',
        closeOnClickOutside: false
      });
    }
    return false;
  })
  


  // 뒤로가기버튼
  $('#back').click(function(){
    document.location.href="/login.html";
  });
</script>
<script type="text/javascript">
    // 우편번호 찾기 화면을 넣을 element
    var element_layer = document.getElementById('layer');

    function closeDaumPostcode() {
        // iframe을 넣은 element를 안보이게 한다.
        element_layer.style.display = 'none';
    }

    function sample2_execDaumPostcode() {
        // $("body").css("background-color","#333").css("filter","Alpha(opacity=60)").css("opacity","0.6").css("-moz-opacity","0.6");
        new daum.Postcode({
            oncomplete: function(data) {
                // 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var fullAddr = data.address; // 최종 주소 변수
                var extraAddr = ''; // 조합형 주소 변수

                // 기본 주소가 도로명 타입일때 조합한다.
                if(data.addressType === 'R'){
                    //법정동명이 있을 경우 추가한다.
                    if(data.bname !== ''){
                        extraAddr += data.bname;
                    }
                    // 건물명이 있을 경우 추가한다.
                    if(data.buildingName !== ''){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    // 조합형주소의 유무에 따라 양쪽에 괄호를 추가하여 최종 주소를 만든다.
                    fullAddr += (extraAddr !== '' ? ' ('+ extraAddr +')' : '');
                }
                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                $("#SIDO_NM").val(data.sido);
                $("#REGION_NM").val(data.sigungu);
                document.getElementById('ZIP_CD').value = data.zonecode; //5자리 새우편번호 사용
                document.getElementById('ADDR1').value = fullAddr;

                // iframe을 넣은 element를 안보이게 한다.
                // (autoClose:false 기능을 이용한다면, 아래 코드를 제거해야 화면에서 사라지지 않는다.)
                element_layer.style.display = 'none';
            },
            width : '100%',
            height : '100%',
            maxSuggestItems : 5
        }).embed(element_layer);

        // iframe을 넣은 element를 보이게 한다.
        element_layer.style.display = 'block';

        // iframe을 넣은 element의 위치를 화면의 가운데로 이동시킨다.
        initLayerPosition();
    }

    // 브라우저의 크기 변경에 따라 레이어를 가운데로 이동시키고자 하실때에는
    // resize이벤트나, orientationchange이벤트를 이용하여 값이 변경될때마다 아래 함수를 실행 시켜 주시거나,
    // 직접 element_layer의 top,left값을 수정해 주시면 됩니다.
    function initLayerPosition(){
        var width = 300; //우편번호서비스가 들어갈 element의 width
        var height = 400; //우편번호서비스가 들어갈 element의 height
        var borderWidth = 1; //샘플에서 사용하는 border의 두께

        // 위에서 선언한 값들을 실제 element에 넣는다.
        element_layer.style.width = width + 'px';
        element_layer.style.height = height + 'px';
        element_layer.style.border = borderWidth + 'px solid';
        // 실행되는 순간의 화면 너비와 높이 값을 가져와서 중앙에 뜰 수 있도록 위치를 계산한다.
        element_layer.style.left = (((window.innerWidth || document.documentElement.clientWidth) - width)/2 - borderWidth) + 'px';
        element_layer.style.top = (((window.innerHeight || document.documentElement.clientHeight) - height)/2 - borderWidth) + 'px';
    }
    function sample3_execDaumPostcode() {
        // 현재 scroll 위치를 저장해놓는다.
        var currentScroll = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
        new daum.Postcode({
            oncomplete: function(data) {
                // 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var fullAddr = data.address; // 최종 주소 변수
                var extraAddr = ''; // 조합형 주소 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.

                // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                if(data.addressType === 'R'){
                    //법정동명이 있을 경우 추가한다.
                    if(data.bname !== ''){
                        extraAddr += data.bname;
                    }
                    // 건물명이 있을 경우 추가한다.
                    if(data.buildingName !== ''){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    // 조합형주소의 유무에 따라 양쪽에 괄호를 추가하여 최종 주소를 만든다.
                    fullAddr += (extraAddr !== '' ? ' ('+ extraAddr +')' : '');
                }
                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                $("#SIDO_NM").val(data.sido);
                $("#REGION_NM").val(data.sigungu);
                document.getElementById('ZIP_CD').value = data.zonecode; //5자리 새우편번호 사용
                document.getElementById('ADDR1').value = fullAddr;

                // iframe을 넣은 element를 안보이게 한다.
                // (autoClose:false 기능을 이용한다면, 아래 코드를 제거해야 화면에서 사라지지 않는다.)
                element_layer.style.display = 'none';

                // 우편번호 찾기 화면이 보이기 이전으로 scroll 위치를 되돌린다.
                document.body.scrollTop = currentScroll;
            },
            // 우편번호 찾기 화면 크기가 조정되었을때 실행할 코드를 작성하는 부분. iframe을 넣은 element의 높이값을 조정한다.
            onresize : function(size) {
                // element_layer.style.height = size.height+'px';
            },
            width : '100%',
            height : '100%'
        }).embed(element_layer);
        initLayerPosition();
        // iframe을 넣은 element를 보이게 한다.
        element_layer.style.display = 'block';
    }

    function getDays(month,setday){
      var html = "";
      if(month == "02"){
        for(var i =1;i<30;i++){
          if(i < 10){
            var day = "0"+i;
          }else{
            var day = i;
          }
          if(setday == day){
            var selected = "selected";
          }else{
            var selected = "";
          }
          html += "<option value='"+i+"' "+selected+">"+i+"일</option>";
        }
      }else if(month == "01" || month == "03" || month == "05" || month == "07" || month == "08" || month == "10" || month == "12"){
        for(var i =1;i<32;i++){
          if(i < 10){
            var day = "0"+i;
          }else{
            var day = i;
          }
          if(setday == day){
            var selected = "selected";
          }else{
            var selected = "";
          }
          html += "<option value='"+day+"' "+selected+">"+i+"일</option>";
        }
      }else{
        for(var i =1;i<31;i++){
          if(i < 10){
            var day = "0"+i;
          }else{
            var day = i;
          }
          if(setday == day){
            var selected = "selected";
          }else{
            var selected = "";
          }
          html += "<option value='"+i+"' "+selected+">"+i+"일</option>";
        }
      }
      return html;
    }
</script>
</body>
</html>